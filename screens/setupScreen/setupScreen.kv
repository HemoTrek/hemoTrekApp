<SetupScreen>:
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: app.theme_cls.primary_color        

        MDTopAppBar:
            type: "small"
            size_hint_x: 1.01
            pos_hint: {"center_x": .5, "center_y": .5}

            MDTopAppBarLeadingButtonContainer:
                MDActionTopAppBarButton:
                    icon: "home"
                    on_press: root.return_home()    

            MDTopAppBarTitle:
                text: "Setup Instructions"
                pos_hint: {"center_x": .5}

        # ----------------------------------
        # SCROLLABLE INSTRUCTIONS SECTION
        # ----------------------------------
        ScrollView:
            size_hint_y: 0.8
            MDList:
                id: setup_steps
                padding: "20dp"  # Padding around the list
                spacing: "10dp"  # Space between each step
                
        # ----------------------------------
        # BOTTOM SECTION (Buttons)
        # ----------------------------------
        MDBoxLayout:
            orientation: "horizontal"
            size_hint_y: 0.2
            padding: "20dp"
            spacing: "10dp"

            AnchorLayout:
                anchor_x: "center"
                anchor_y: "bottom"
                
                MDBoxLayout:
                    orientation: "horizontal"
                    size_hint_y: 0.2  # Controls vertical space taken
                    spacing: "10dp"  # Prevents buttons from touching

                    MDButton:
                        style: "elevated"
                        theme_width: "Custom"
                        height: "120"
                        size_hint_x: 0.3  # Each button takes 50% of the width
                        on_press: root.open_test_type_screen()
                        
                        MDButtonText:
                            text: "Back"
                            pos_hint: {"center_x": 0.5, "center_y": 0.5}
                            font_style: "Title"

                    MDButton:
                        style: "elevated"
                        theme_width: "Custom"
                        height: "120"
                        size_hint_x: 0.7  
                        on_press: root.start_test()
                        
                        MDButtonText:
                            text: "Run Test"
                            pos_hint: {"center_x": 0.5, "center_y": 0.5}
                            font_style: "Title"
