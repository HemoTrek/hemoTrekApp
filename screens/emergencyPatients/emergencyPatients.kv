<EmergencyPatients>:
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: app.theme_cls.primary_color
        
        MDTopAppBar:
            type: "small"
            size_hint_x: 1.01
            pos_hint: {"center_x": .5, "center_y": .5}

            MDTopAppBarLeadingButtonContainer:

                MDActionTopAppBarButton:
                    icon: "home"
                    on_press: root.return_home()                    

            MDTopAppBarTitle:
                text: "Emergency Patient Selection"
                pos_hint: {"center_x": .5}

            MDTopAppBarTrailingButtonContainer:

                MDActionTopAppBarButton:
                    icon: "refresh"
                    on_press: root.on_enter()
        # ----------------------------------------
        # Patient AREA
        # ----------------------------------------
    
        RecycleView:
            id: recycle_view
            viewclass: "PatientInfoCard"
            scroll_type: ["bars", "content"]
            bar_width: dp(10)

            RecycleGridLayout:
                cols: 3
                default_size: None, dp(150)
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                spacing: dp(10)
                padding: dp(10)

        # ----------------------------------------
        # Button AREA
        # ----------------------------------------

        MDBoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: "60dp"
            spacing: "10dp"
            padding: "10dp"

            AnchorLayout:
                anchor_x: "center"  # Centers the button horizontally
                anchor_y: "bottom"
                size_hint_y: None
                height: "70dp"  # Adjust based on button size

                MDButton:
                    style: "elevated"
                    on_press: root.select_patient("[No Patient Selected]")
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    width: self.parent.width * 0.9
                    height: self.parent.height * 0.7

                    MDButtonText:
                        text: "Run Without Patient"
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
