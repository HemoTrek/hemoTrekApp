<Login>:
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: app.theme_cls.primary_color        

        # ----------------------------------
        # TOP SECTION
        # ----------------------------------
        FitImage:
            source: "icons/HemoTrekLogo.png"
            size_hint_x: 0.8
            size_hint_y: 0.40
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            allow_stretch: True
            keep_ratio: True

        # ----------------------------------
        # MIDDLE SECTION
        # ----------------------------------
        MDCard:
            id: loginCard
            orientation: "vertical"
            size_hint: (0.6, 0.6)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            padding: dp(20)
            radius: dp(12)
            elevation: 4

            # Push text fields to the top
            AnchorLayout:
                anchor_y: "top"
                size_hint_y: 0.5

                MDBoxLayout:
                    orientation: "vertical"
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: dp(10)

                    MDTextField:
                        id: username
                        helper_text_mode: "on_focus"
                        MDTextFieldHintText:
                            text: "Enter Username or Email"
                        MDTextFieldTrailingIcon:
                            icon: "account"

                    MDTextField:
                        id: password
                        password: True
                        MDTextFieldHintText:
                            text: "Enter Password"
                        MDTextFieldTrailingIcon:
                            icon: "key"

            # Make the Sign In button slightly smaller than the full width
            AnchorLayout:
                anchor_x: "center"
                size_hint_y: 0.5  # Takes remaining space

                MDButton:
                    style: "elevated"
                    size_hint_x: None  # Slightly smaller than full width
                    pos_hint: {"center_x": 0.5}
                    width: self.parent.width * 0.9
                    height: self.parent.height * 0.9

                    on_press:
                        #app.username = username.text
                        app.username = "HemoTrek User"
                        app.password = password.text
                        root.open_test_type_screen()

                    MDButtonText:
                        text: "Sign In"
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        font_style: "Title"
                        


        # ----------------------------------
        # BOTTOM SECTION
        # ----------------------------------
        MDBoxLayout:
            orientation: "horizontal"
            size_hint_y: 0.2
            padding: "20dp"
            spacing: "10dp"

            AnchorLayout:
                anchor_x: "center"
                anchor_y: "bottom"
                
                MDBoxLayout:
                    orientation: "horizontal"
                    size_hint_y: 0.2  # Controls vertical space taken
                    spacing: "10dp"  # Prevents buttons from touching

                    MDButton:
                        style: "elevated"
                        theme_width: "Custom"
                        height: "60"
                        size_hint_x: 0.4  # Each button takes 50% of the width
                        on_press: root.open_cleaning_screen()
                        
                        MDButtonText:
                            text: "Cleaning Instructions"
                            pos_hint: {"center_x": 0.5, "center_y": 0.5}
                            font_style: "Title"

                    MDButton:
                        style: "elevated"
                        theme_width: "Custom"
                        height: "60"
                        size_hint_x: 0.4  
                        on_press: root.open_service_screen()
                        
                        MDButtonText:
                            text: "Servicing Instructions"
                            pos_hint: {"center_x": 0.5, "center_y": 0.5}
                            font_style: "Title"
