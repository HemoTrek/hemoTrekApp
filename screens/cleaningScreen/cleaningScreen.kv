<CleaningScreen>:
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: app.theme_cls.primaryColor        

        MDTopAppBar:
            type: "small"
            size_hint_x: 1.01
            pos_hint: {"center_x": .5, "center_y": .5}

            MDTopAppBarLeadingButtonContainer:
                MDActionTopAppBarButton:
                    icon: "home"
                    on_press: root.return_home()    

            MDTopAppBarTitle:
                text: "Cleaning Instructions"
                pos_hint: {"center_x": .5}

        # ----------------------------------
        # SCROLLABLE INSTRUCTIONS SECTION
        # ----------------------------------
        ScrollView:
            size_hint_y: 0.8
            scroll_wheel_distance: 100
            MDList:
                id: setup_steps
                padding: "20dp"  # Padding around the list
                spacing: "10dp"  # Space between each step
                
        # ----------------------------------
        # BOTTOM SECTION (1/3 of leftover space)
        # ----------------------------------
        MDBoxLayout:
            id: bottom_section
            orientation: "horizontal"
            size_hint_y: 0.2
            padding: "20dp"
            spacing: "10dp"

#            MDButton:
#                style: "elevated"
#                on_press: root.start_test()
#                size_hint_x: 0.3
#                size_hint_y: 0.3
#               
#                MDButtonText:
#                    text: "Back to Results"


            MDButton:
                id: complete_button  # Add ID for referencing in Python
                style: "elevated"
                on_press: root.return_home()
                size_hint_x: 0.3
                size_hint_y: 0.3
                disabled: True  # Default to disabled

                MDButtonText:
                    text: "COMPLETE"

            MDButton:
                style: "elevated"
                on_press: root.open_service_screen()
                size_hint_x: 0.3
                size_hint_y: 0.3

                MDButtonText:
                    text: "Perform Servicing"
        
            # Display runsSinceLastService at the bottom
            MDLabel:
                id: runs_since_last_service
                halign: "center"
                theme_text_color: "Custom"
                text_color: (0, 0, 0, 1)
                size_hint_y: None
                height: "50dp"