<AddPatient>:
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: app.theme_cls.primaryColor

        # Top App Bar with fixed height
        MDTopAppBar:
            type: "small"
            size_hint_y: None
            height: dp(56)
            MDTopAppBarTitle:
                text: "Add Patient"
            MDTopAppBarTrailingButtonContainer:
                MDActionTopAppBarButton:
                    icon: "home"
                    on_press: root.return_home()

        # Middle area: takes up all available space
        AnchorLayout:
            size_hint_y: 1
            MDCard:
                orientation: "vertical"
                size_hint: (None, None)
                size: ("300dp", "320dp")
                padding: dp(20)
                spacing: dp(20)
                radius: dp(12)
                elevation: 4

                MDTextField:
                    id: name
                    helper_text_mode: "on_focus"
                    MDTextFieldHintText:
                        text: "Enter Patients Name"

                MDTextField:
                    id: DOB
                    helper_text_mode: "on_focus"
                    MDTextFieldHintText:
                        text: "Enter Patients Date of Birth"

                MDTextField:
                    id: notes
                    helper_text_mode: "on_focus"
                    MDTextFieldHintText:
                        text: "Enter Patient Notes"

                MDButton:
                    style: "elevated"
                    on_press: root.save_changes(name.text, DOB.text, notes.text)
                    pos_hint: {"center_x": 0.5}
                    MDButtonText:
                        text: "Save"

        # Bottom Bar with fixed height
        BoxLayout:
            size_hint_y: None
            height: dp(60)
            padding: [20, 10]
            spacing: 20

            MDButton:
                style: "elevated"
                width: dp(150)
                on_press: root.return_home()
                MDButtonText:
                    text: "Return to Home"
